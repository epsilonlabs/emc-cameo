syntax = "proto3";
option java_multiple_files = true;

package org.eclipse.epsilon.emc.magicdraw.modelapi;

message ModelElement {
    string elementID = 1;
    string metamodelUri = 2;
    string typeName = 3;
}

message StringCollection {
    repeated string values = 1;
}

message DoubleCollection {
    repeated double values = 1;
}

message IntegerCollection {
    repeated sint64 values = 1;
}

message BooleanCollection {
    repeated bool values = 1;
}

message ModelElementCollection {
    repeated ModelElement values =  1;
}

message Value {
    oneof value {
        string stringValue = 1;
        double doubleValue = 2;
        sint64 longValue = 3;
        bool booleanValue = 4;
        ModelElement referenceValue = 5;

        StringCollection stringValues = 7;
        DoubleCollection doubleValues = 8;
        IntegerCollection longValues = 9;
        BooleanCollection booleanValues = 10;
        ModelElementCollection referenceValues = 11;

        bool notDefined = 12;
    }
}

message AllOfKindRequest {
    string metamodelUri = 1;
    string typeName = 2;

    string rootElementHyperlink = 3;
}

message GetFeatureValueRequest {
    string elementID = 1;
    string featureName = 2;
}

service ModelService {
    rpc allOfKind(AllOfKindRequest) returns (ModelElementCollection);
    rpc getFeatureValue(GetFeatureValueRequest) returns (Value);
}